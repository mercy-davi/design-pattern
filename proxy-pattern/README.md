目标： 1、掌握代理模式的应用场景和实现原理。 2、了解静态代理和动态代理的区别。 3、了解CGLib和JDK Proxy的根本区别。 4、手写实现自定义的动态代理。

代理模式的定义： 1、代理模式（Proxy Pattern）是指为其他对象提供一种代理，以控制对这个对象的访问。 2、代理对象在客服端和目标对象之间起到中介作用。 3、属于结构型设计模式。

代理模式的适用场景： 1、保护目标对象。 2、增强目标对象。

静态代理： 显式声明被代理对象

动态代理： 动态配置和替换被代理对象

JDK动态代理的实现原理： 1、拿到被代理类的引用，并且获取它的所有接口（反射获取）。 2、JDK Proxy类重新生成了一个新的类，实现了被代理类所有接口的方法。 3、动态生成Java代码（内存中完成），把增强逻辑加入到新生成代码中。
4、编译生成新的Java代码的class文件。 5、加载并重新运行新的class，得到的类就是全新的代理类。